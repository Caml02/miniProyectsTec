{"version":3,"file":"translate.js","names":["recognition","transcriptionDisplay","transcription","setupSpeechToText","startButton","document","getElementById","stopButton","window","webkitSpeechRecognition","continuous","interimResults","onstart","disabled","textContent","onend","onresult","event","interimTranscript","i","resultIndex","results","length","isFinal","transcript","addEventListener","start","stop","clearTranscription","alert"],"sources":["proyectsjs/translate.js"],"mappings":"AACA,IAAIA,YAEAC,qBADAC,cAAgB,GAQpB,SAASC,oBACP,IAAIC,EAAcC,SAASC,eAAe,eACtCC,EAAaF,SAASC,eAAe,eACzCL,qBAAuBI,SAASC,eAAe,iBAGzC,4BAA6BE,UAMnCR,YAAc,IAAIS,yBACNC,YAAa,EACzBV,YAAYW,gBAAiB,EAG7BX,YAAYY,QAAU,WACpBR,EAAYS,UAAW,EACvBN,EAAWM,UAAW,EACtBZ,qBAAqBa,YAAc,eACrC,EAGAd,YAAYe,MAAQ,WAClBX,EAAYS,UAAW,EACvBN,EAAWM,UAAW,EACtBZ,qBAAqBa,YAAcZ,aACrC,EAGAF,YAAYgB,SAAW,SAASC,GAI9B,IAHA,IAAIC,EAAoB,GAGfC,EAAIF,EAAMG,YAAaD,EAAIF,EAAMI,QAAQC,SAAUH,EAEtDF,EAAMI,QAAQF,GAAGI,QACnBrB,eAAiBe,EAAMI,QAAQF,GAAG,GAAGK,WAErCN,GAAqBD,EAAMI,QAAQF,GAAG,GAAGK,WAK7CvB,qBAAqBa,YAAcZ,cAAgBgB,CACrD,EAGAd,EAAYqB,iBAAiB,SAAS,WAEpCvB,cAAgB,GAChBD,qBAAqBa,YAAc,GAGnCd,YAAY0B,OACd,IAGAnB,EAAWkB,iBAAiB,SAAS,WACnCzB,YAAY2B,MACd,IAGkBtB,SAASC,eAAe,eAG9BmB,iBAAiB,SAAS,WAEpCG,oBACF,KA/DEC,MAAM,yDAgEV,CAGA,SAASD,qBACP1B,cAAgB,GAChBD,qBAAqBa,YAAc,EACrC,CAlFAT,SAASoB,iBAAiB,oBAAoB,WAC5CtB,oBACAM,yBACF","sourcesContent":["// Variables globales\r\nvar recognition;\r\nvar transcription = \"\";\r\nvar transcriptionDisplay;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  setupSpeechToText();\r\n  webkitSpeechRecognition();\r\n});\r\n\r\nfunction setupSpeechToText() {\r\n  var startButton = document.getElementById(\"startButton\");\r\n  var stopButton = document.getElementById(\"stopButton\");\r\n  transcriptionDisplay = document.getElementById(\"transcription\");\r\n\r\n  // Verificar compatibilidad con la API de reconocimiento de voz\r\n  if (!('webkitSpeechRecognition' in window)) {\r\n    alert(\"Tu navegador no admite la API de reconocimiento de voz\");\r\n    return;\r\n  }\r\n\r\n  // Crear instancia de reconocimiento de voz\r\n  recognition = new webkitSpeechRecognition();\r\n  recognition.continuous = true;\r\n  recognition.interimResults = true;\r\n\r\n  // Evento cuando se inicia el reconocimiento de voz\r\n  recognition.onstart = function() {\r\n    startButton.disabled = true;\r\n    stopButton.disabled = false;\r\n    transcriptionDisplay.textContent = \"Escuchando...\";\r\n  };\r\n\r\n  // Evento cuando se detiene el reconocimiento de voz\r\n  recognition.onend = function() {\r\n    startButton.disabled = false;\r\n    stopButton.disabled = true;\r\n    transcriptionDisplay.textContent = transcription;\r\n  };\r\n\r\n  // Evento cuando se obtiene un resultado de reconocimiento de voz\r\n  recognition.onresult = function(event) {\r\n    var interimTranscript = \"\";\r\n\r\n    // Recorrer los resultados obtenidos\r\n    for (var i = event.resultIndex; i < event.results.length; ++i) {\r\n      // Verificar si el resultado es final o provisional\r\n      if (event.results[i].isFinal) {\r\n        transcription += event.results[i][0].transcript;\r\n      } else {\r\n        interimTranscript += event.results[i][0].transcript;\r\n      }\r\n    }\r\n\r\n    // Mostrar el texto provisional en tiempo real\r\n    transcriptionDisplay.textContent = transcription + interimTranscript;\r\n  };\r\n\r\n  // Evento click en el botón de iniciar\r\n  startButton.addEventListener(\"click\", function() {\r\n    // Borrar contenido anterior\r\n    transcription = \"\";\r\n    transcriptionDisplay.textContent = \"\";\r\n\r\n    // Iniciar reconocimiento de voz\r\n    recognition.start();\r\n  });\r\n\r\n  // Evento click en el botón de detener\r\n  stopButton.addEventListener(\"click\", function() {\r\n    recognition.stop();\r\n  });\r\n\r\n  // Borrar transcripción\r\n  var clearButton = document.getElementById(\"clearButton\");\r\n\r\n  // Agregar evento click al botón de eliminar\r\n  clearButton.addEventListener(\"click\", function() {\r\n    // Borrar contenido de transcripción\r\n    clearTranscription();\r\n  });\r\n}\r\n\r\n// Función para borrar el contenido de la transcripción\r\nfunction clearTranscription() {\r\n  transcription = \"\";\r\n  transcriptionDisplay.textContent = \"\";\r\n}\r\n"]}